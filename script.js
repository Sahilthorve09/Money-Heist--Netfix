const episodesData = {
  1: [
    {
      img: './image/s01e01.jpg',
      title: 'Episode 1',
      duration: '57 min',
      description: 'The Professor recruits a young female robber and seven other criminals for a grand heist, targeting the Royal Mint of Spain.'
    },

    {
      img: './image/s01e02.jpg',
      title: 'Episode 2',
      duration: '58 min',
      description: "Hostage negotiator Raquel makes initial contact with the Professor. One of the hostages is a crucial part of the thieves' plans."
    },
    {
      img: './image/s01e03.jpg',
      title: 'Episode 3',
      duration: ' min',
      description: 'Police grab an image of the face of one of the robbers. Raquel is suspicious of the gentleman she meets at a bar.'
    },
    {
      img: './image/s01e04.jpg',
      title: 'Episode 4',
      duration: ' min',
      description: "Raquel suffers a personal crisis with her ex. The hostages are frightened by the gunshots they overheard. The thieves argue among themselves."
    },
    {
      img: './image/s01e05.jpg',
      title: 'Episode 5',
      duration: ' min',
      description: "The thieves let a medical team enter the Mint, and an undercover policeman sneaks in with them. Can the Professor stay one step ahead of Raquel?"
    },
    {
      img: './image/s01e06.jpg',
      title: 'Episode 6',
      duration: ' min',
      description: "Mónica's condition worsens. The Professor enjoys the spoils of his latest trick. Río is disturbed by news he sees on the television."
    },
    {
      img: './image/s01e07.jpg',
      title: 'Episode 7',
      duration: ' min',
      description: 'A break in the investigation and a mistake by one of the thieves puts the Professor at serious risk of being discovered.'
    },
    {
      img: './image/s01e08.jpg',
      title: 'Episode 8',
      duration: ' min',
      description: 'Tokyo catches Alison chatting with Río and confronts her. The police suspect a spy is in their midst.'
    },
    {
      img: './image/s01e09.jpg',
      title: 'Episode 9',
      duration: ' min',
      description: 'The Professor races to stop a witness from identifying him. Berlín seeks revenge once his own name is revealed and slandered in the press.'
    },
    {
      img: './image/s01e10.jpg',
      title: 'Episode 10',
      duration: ' min',
      description: 'Raquel enters the Mint to ascertain that all of the hostages are still alive and well. Nairobi gives Alison advice.'
    },
    {
      img: './image/s01e11.jpg',
      title: 'Episode 11',
      duration: ' min',
      description: "Ángel and Raquel question each other's loyalties. Mónica makes a move on Denver. Río is faced with a difficult decision."
    },
    {
      img: './image/s01e12.jpg',
      title: 'Episode 12',
      duration: ' min',
      description: 'Arturo continues to formulate an escape plan for a group of hostages. The Professor reveals who gave him the idea for the heist.'
    },
    {
      img: './image/s01e13.jpg',
      title: 'Episode 13',
      duration: ' min',
      description: "The Professor meets Raquel's mother under stressful circumstances. At the Mint, the thieves offer the hostages a decision: money or freedom?"
    }
  ],
  2: [
    {
      img: './image/s02e01.jpg',
      title: 'Episode 1',
      duration: ' min',
      description: "As forensic experts comb the Toledo country house for DNA, the Professor loses control. Inside the Mint, the robbers' nerves reach a breaking point."
    },
    {
      img: './image/s02e02.jpg',
      title: 'Episode 2',
      duration: ' min',
      description: "The police interrogate the first robber to be captured. Furious over Berlín's recent actions, Río takes a stand against him."
    },
    {
      img: './image/s02e03.jpg',
      title: 'Episode 3',
      duration: ' min',
      description: "Hoping to learn the Professor's identity, Raquel appeals to her captive's emotions. A punishment for 'high treason' sparks a revolt among the robbers."
    },
    {
      img: './image/s02e04.jpg',
      title: 'Episode 4',
      duration: ' min',
      description: "Recognizing their plan isn't working out, the robbers instead aim to win over the public via the press. Raquel plots a trap to capture the Professor."
    },
    {
      img: './image/s02e05.jpg',
      title: 'Episode 5',
      duration: ' min',
      description: "Arturo tries to set another escape plan in motion. During a conversation with Salva, Raquel spots a tiny detail that gets her mind racing."
    },
    {
      img: './image/s02e06.jpg',
      title: 'Episode 6',
      duration: ' min',
      description: "After confessing a long-held secret, Moscow loses his son's trust. A contingency plan to free Tokyo hits a snag, forcing her to improvise."
    },
    {
      img: './image/s02e07.jpg',
      title: 'Episode 7',
      duration: ' min',
      description: "With one of their own critically injured, the robbers race against time to save his life. During a moment alone, Ariadna makes a confession to Mónica."
    },
    {
      img: './image/s02e08.jpg',
      title: 'Episode 8',
      duration: ' min',
      description: "After being removed from the case due to her relationship with the Professor, Raquel sets out to conduct her own search for the mastermind."
    },
    {
      img: './image/s02e09.jpg',
      title: 'Episode 9',
      duration: ' min',
      description: "As the police enter the Mint, Berlín leads the robbers in a final showdown. Will they escape with the 984 million euros -- and with their lives intact?"
    }
  ],
  3: [
    {
      img: './image/s03e01.jpg',
      title: 'Episode 1',
      duration: ' min',
      description: "When Río is captured, a distraught Tokyo turns to the Professor for help. Armed with a bold new plan, they reunite the team in order to rescue him."
    },
    {
      img: './image/s03e02.jpg',
      title: 'Episode 2',
      duration: ' min',
      description: "The Professor recruits Martín to put his brother's plan into action and target the Bank of Spain. First step? Create total chaos."
    },
    {
      img: './image/s03e03.jpg',
      title: 'Episode 3',
      duration: ' min',
      description: "Tokyo and Nairobi's efforts go drastically awry. The Professor recalls Berlín detailing how they'd steal the gold from the water-logged vault."
    },
    {
      img: './image/s03e04.jpg',
      title: 'Episode 4',
      duration: ' min',
      description: "Tamayo's breaches of protocol surprise the Professor. Bogotá calms Denver's anxieties. With time running out, Palermo initiates the 'Flipper' plan."
    },
    {
      img: './image/s03e05.jpg',
      title: 'Episode 5',
      duration: ' min',
      description: "The Professor shocks officials with his latest stunt, but in response, a new inspector rattles Raquel. Palermo and Nairobi get into a heated argument."
    },
    {
      img: './image/s03e06.jpg',
      title: 'Episode 6',
      duration: ' min',
      description: "Just as Inspector Sierra orchestrates a plan to sneak a team into the Bank of Spain, the Professor and Raquel lose communication with Palermo."
    },
    {
      img: './image/s03e07.jpg',
      title: 'Episode 7',
      duration: ' min',
      description: "Tokyo's happiness turns bittersweet. Ángel closes in on a quarreling Raquel and the Professor. Authorities offer a multimillion-dollar reward for tips."
    },
    {
      img: './image/s03e08.jpg',
      title: 'Episode 8',
      duration: ' min',
      description: "Tokyo attempts to drown her sorrows. Sierra uses personal tactics to target a vulnerable Nairobi, while Suárez continues to hunt down Raquel."
    },
  ],
  4: [
    {
      img: './image/s04e01.jpg',
      title: 'Episode 1',
      duration: ' min',
      description: "Anger and grief heighten tensions between the group. The Professor, while in mourning, attempts to make a daring and dangerous escape."
    },
    {
      img: './image/s04e02.jpg',
      title: 'Episode 2',
      duration: ' min',
      description: "Palermo shocks the group with his actions. Sierra pressures her subject to take a deal. The Professor remembers his brother's wedding."
    },
    {
      img: './image/s04e03.jpg',
      title: 'Episode 3',
      duration: ' min',
      description: "The Professor's mole attempts to pass along his message to the person inside the tent. Denver's jealousy toward Mónica and Rio's friendship heightens."
    },
    {
      img: './image/s04e04.jpg',
      title: 'Episode 4',
      duration: ' min',
      description: "In the past, Berlin predicts that Gandía will cause problems for the operation. Sierra's interrogation of Lisbon leads to a personal revelation."
    },
    {
      img: './image/s04e05.jpg',
      title: 'Episode 5',
      duration: ' min',
      description: "Denver turns to an undercover source for help. Nairobi attempts to motivate her team as the danger around them intensifies."
    },
    {
      img: './image/s04e06.jpg',
      title: 'Episode 6',
      duration: ' min',
      description: "With Nairobi held hostage, Gandía negotiates with the crew. The Professor desperately seeks a new plan to save his team."
    },
    {
      img: './image/s04e07.jpg',
      title: 'Episode 7',
      duration: ' min',
      description: "The group reels following the attack on one of their own. The Professor puts his adjusted plan in motion with the help of new recruits and Palermo."
    },
    {
      img: './image/s04e08.jpg',
      title: 'Episode 8',
      duration: ' min',
      description: "The Professor, Benjamin and the others attempt to free Lisbon. Tokyo's anger threatens her faith in the plan. Sierra takes matters into her own hands."
    },
  ],
  5: [
    {
      img: './image/s05e01.jpg',
      title: 'Episode 1',
      duration: ' min',
      description: "The Professor faces off with Sierra as Tamayo raises the stakes of the negotiations by calling the army. In the past, Berlin meets with a family member."
    },
    {
      img: './image/s05e02.jpg',
      title: 'Episode 2',
      duration: ' min',
      description: "Arturo seizes an opportunity to fight back while escalating a personal vengeance. Lisbon makes a crucial discovery."
    },
    {
      img: './image/s05e03.jpg',
      title: 'Episode 3',
      duration: ' min',
      description: "A betrayal and an emergency both catch Sierra by surprise. Palermo rallies the troops as the army closes in on the gang."
    },
    {
      img: './image/s05e04.jpg',
      title: 'Episode 4',
      duration: ' min',
      description: "With Helsinki's life in danger, the thieves mount a covert counter attack. Years earlier, Berlin and his son conduct their first heist together."
    },
    {
      img: './image/s05e05.jpg',
      title: 'Episode 5',
      duration: ' min',
      description: "While surrounded by gunfire and trapped in the kitchen, Tokyo reminisces about her first love and her initial encounter with the Professor."
    },
    {
      img: './image/s05e06.jpg',
      title: 'Episode 6',
      duration: ' min',
      description: "Sierra takes advantage of the Professor's grief and gains the upper hand. Meanwhile, the team deals with the emotional fallout of their dead friend."
    },
    {
      img: './image/s05e07.jpg',
      title: 'Episode 7',
      duration: ' min',
      description: "Tamayo mounts a manhunt in his neighborhood as his foes hide. In the past, Berlin and Palermo explain how they plan on getting the gold out of the bank."
    },
    {
      img: './image/s05e08.jpg',
      title: 'Episode 8',
      duration: ' min',
      description: "Tamayo hunts for the gold as the team races against the clock. Mónica worries she's having a psychotic break. Years earlier, Berlin is deceived."
    },
    {
      img: './image/s05e09.jpg',
      title: 'Episode 9',
      duration: ' min',
      description: "The Professor is left reeling after his tactics are used against him, and when it seems like all hope is lost, he makes a bold decision."
    },
    {
      img: './image/s05e10.jpg',
      title: 'Episode 10',
      duration: ' min',
      description: "With multiple lives on the line and Spain's economy at stake, the Professor and Tamayo engage in one final showdown."
    }
  ]
};

function updateEpisodes() {
  const season = document.getElementById('season').value;
  const episodesContainer = document.getElementById('episodes');
  episodesContainer.innerHTML = '';

  episodesData[season].forEach(ep => {
    const episodeElement = document.createElement('div');
    episodeElement.classList.add('episode');
    episodeElement.innerHTML = `
            <img src="${ep.img}" alt="Episode Image">
            <h3>${ep.title}</h3>
            <h5>Duration: ${ep.duration}</h5>
            <p>${ep.description}</p>
        `;
    episodesContainer.appendChild(episodeElement);
  });
}

const slider = document.querySelector('.slider');
const prev = document.querySelector('.prev');
const next = document.querySelector('.next');
const playPauseButtons = document.querySelectorAll('.play-pause');
const videos = document.querySelectorAll('.slide video');

let index = 0;

// Function to get number of slides visible at a time
function getSlidesToShow() {
  if (window.innerWidth <= 600) return 1;
  if (window.innerWidth <= 1024) return 2;
  return 3; // Default: 3 slides at a time
}

// Update slider position dynamically
function updateSlider() {
  const slidesToShow = getSlidesToShow();
  const totalSlides = videos.length - slidesToShow; // Ensure correct max index

  if (index > totalSlides) index = totalSlides; // Prevent overflow
  if (index < 0) index = 0; // Prevent underflow

  slider.style.transform = `translateX(-${index * (100 / slidesToShow)}%)`;
}

// Next button functionality
next.addEventListener('click', () => {
  const maxIndex = videos.length - getSlidesToShow();
  if (index < maxIndex) {
    index++;
    updateSlider();
  }
});

// Previous button functionality
prev.addEventListener('click', () => {
  if (index > 0) {
    index--;
    updateSlider();
  }
});

// Play/Pause Button Functionality
playPauseButtons.forEach((button, i) => {
  button.addEventListener('click', () => {
    if (videos[i].paused) {
      videos[i].play();
      button.textContent = '❚❚'; // Pause icon
    } else {
      videos[i].pause();
      button.textContent = '►'; // Play icon
    }
  });

  videos[i].addEventListener('ended', () => {
    button.textContent = '►';
  });
});

// Adjust slider when window resizes
window.addEventListener('resize', updateSlider);

// loading page script

document.addEventListener("DOMContentLoaded", function () {
  const video = document.querySelector(".loading-video");
  video.onended = () => {
      document.querySelector(".loading-screen").style.display = "none";
      const heroSection = document.querySelector(".herosection");
      heroSection.style.visibility = "visible";
      heroSection.style.opacity = "1";
  };
});



